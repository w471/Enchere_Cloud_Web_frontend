{"ast":null,"code":"var _jsxFileName = \"E:\\\\Sandratra\\\\ITU\\\\S5\\\\Gestion_entreprise\\\\Achat_vente-Tovo2-\\\\frontend\\\\src\\\\View\\\\Page\\\\Admin\\\\Table.js\";\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Table = _ref => {\n  let {\n    header,\n    listDemande,\n    departement\n  } = _ref;\n  if (departement !== \" \") listDemande = listDemande.filter(demande => demande.nomdepartement.includes(departement));\n  const ReponseDemande = (idarticle, idEtat, message) => {\n    var content = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    content.body = JSON.stringify({\n      idarticle: idarticle,\n      pivot: idEtat\n    });\n    fetch(\"http://127.0.0.1:3000/traiterDemande\", content).then(response => {\n      if (response.status === 200) {\n        window.location.href = \"/validationDemandeAchat\";\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"table\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: header.map((element, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n          children: element\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: listDemande.map((element, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nomdepartement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nom_article\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.qtt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nomunite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.qualite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.date_demande\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => ReponseDemande(element.idarticle, 1, \"validée\"),\n            children: \"Valider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => ReponseDemande(element.idarticle, -1, \"rejetée\"),\n            children: \"Rejeter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_c = Table;\nexport default Table;\nvar _c;\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useEffect","Table","header","listDemande","departement","filter","demande","nomdepartement","includes","ReponseDemande","idarticle","idEtat","message","content","method","headers","body","JSON","stringify","pivot","fetch","then","response","status","window","location","href","catch","err","console","error","map","element","index","nom_article","qtt","nomunite","qualite","date_demande"],"sources":["E:/Sandratra/ITU/S5/Gestion_entreprise/Achat_vente-Tovo2-/frontend/src/View/Page/Admin/Table.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nconst Table = ({ header, listDemande, departement }) => {\r\n  if (departement !== \" \")\r\n    listDemande = listDemande.filter((demande) =>\r\n      demande.nomdepartement.includes(departement)\r\n    );\r\n\r\n  const ReponseDemande = (idarticle, idEtat, message) => {\r\n    var content = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    content.body = JSON.stringify({ idarticle: idarticle, pivot: idEtat });\r\n    fetch(\"http://127.0.0.1:3000/traiterDemande\", content)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          window.location.href = \"/validationDemandeAchat\";\r\n        }\r\n      })\r\n      .catch((err) => {   \r\n        console.error(err);\r\n      });\r\n  };\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          {header.map((element, index) => (\r\n            <th key={index}>{element}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {listDemande.map((element, index) => (\r\n          <tr key={index}>\r\n            <td>{element.nomdepartement}</td>\r\n            <td>{element.nom_article}</td>\r\n            <td>{element.qtt}</td>\r\n            <td>{element.nomunite}</td>\r\n            <td>{element.qualite}</td>\r\n            <td>{element.date_demande}</td>\r\n            <td>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => ReponseDemande(element.idarticle, 1, \"validée\")}\r\n              >\r\n                Valider\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button\r\n                className=\"btn btn-danger\"\r\n                onClick={() => ReponseDemande(element.idarticle, -1, \"rejetée\")}\r\n              >\r\n                Rejeter\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC;AAEzC,MAAMC,KAAK,GAAG,QAA0C;EAAA,IAAzC;IAAEC,MAAM;IAAEC,WAAW;IAAEC;EAAY,CAAC;EACjD,IAAIA,WAAW,KAAK,GAAG,EACrBD,WAAW,GAAGA,WAAW,CAACE,MAAM,CAAEC,OAAO,IACvCA,OAAO,CAACC,cAAc,CAACC,QAAQ,CAACJ,WAAW,CAAC,CAC7C;EAEH,MAAMK,cAAc,GAAG,CAACC,SAAS,EAAEC,MAAM,EAAEC,OAAO,KAAK;IACrD,IAAIC,OAAO,GAAG;MACZC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC;IAEDF,OAAO,CAACG,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAC;MAAER,SAAS,EAAEA,SAAS;MAAES,KAAK,EAAER;IAAO,CAAC,CAAC;IACtES,KAAK,CAAC,sCAAsC,EAAEP,OAAO,CAAC,CACnDQ,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAC3BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,yBAAyB;MAClD;IACF,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EACD,oBACE;IAAO,SAAS,EAAC,OAAO;IAAA,wBACtB;MAAA,uBACE;QAAA,UACG1B,MAAM,CAAC6B,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,kBACzB;UAAA,UAAiBD;QAAO,GAAfC,KAAK;UAAA;UAAA;UAAA;QAAA,QACf;MAAC;QAAA;QAAA;QAAA;MAAA;IACC;MAAA;MAAA;MAAA;IAAA,QACC,eACR;MAAA,UACG9B,WAAW,CAAC4B,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,kBAC9B;QAAA,wBACE;UAAA,UAAKD,OAAO,CAACzB;QAAc;UAAA;UAAA;UAAA;QAAA,QAAM,eACjC;UAAA,UAAKyB,OAAO,CAACE;QAAW;UAAA;UAAA;UAAA;QAAA,QAAM,eAC9B;UAAA,UAAKF,OAAO,CAACG;QAAG;UAAA;UAAA;UAAA;QAAA,QAAM,eACtB;UAAA,UAAKH,OAAO,CAACI;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAM,eAC3B;UAAA,UAAKJ,OAAO,CAACK;QAAO;UAAA;UAAA;UAAA;QAAA,QAAM,eAC1B;UAAA,UAAKL,OAAO,CAACM;QAAY;UAAA;UAAA;UAAA;QAAA,QAAM,eAC/B;UAAA,uBACE;YACE,SAAS,EAAC,iBAAiB;YAC3B,OAAO,EAAE,MAAM7B,cAAc,CAACuB,OAAO,CAACtB,SAAS,EAAE,CAAC,EAAE,SAAS,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAGxD;UAAA;UAAA;UAAA;QAAA,QACN,eACL;UAAA,uBACE;YACE,SAAS,EAAC,gBAAgB;YAC1B,OAAO,EAAE,MAAMD,cAAc,CAACuB,OAAO,CAACtB,SAAS,EAAE,CAAC,CAAC,EAAE,SAAS,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAGzD;UAAA;UAAA;UAAA;QAAA,QACN;MAAA,GAtBEuB,KAAK;QAAA;QAAA;QAAA;MAAA,QAwBf;IAAC;MAAA;MAAA;MAAA;IAAA,QACI;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEZ,CAAC;AAAC,KAhEIhC,KAAK;AAkEX,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}