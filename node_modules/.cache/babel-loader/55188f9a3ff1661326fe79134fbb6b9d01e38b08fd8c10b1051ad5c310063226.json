{"ast":null,"code":"var _jsxFileName = \"E:\\\\Sandratra\\\\ITU\\\\S5\\\\Gestion_entreprise\\\\Achat_vente-Tovo2-\\\\frontend\\\\src\\\\View\\\\Page\\\\proforma\\\\Proforma.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar id_proforma = 1;\nvar mode_livraison = 2;\nfunction DropDown(props) {\n  const options = props.options;\n  const listItems = options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n    value: option.value,\n    children: option.text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    class: \"form-control\",\n    ref: props.textinput,\n    children: listItems\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n}\n_c = DropDown;\nfunction ProformaHeader(props) {\n  _s();\n  const {\n    iddemande\n  } = useParams();\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:3000/fournisseurproforma?iddemande=\" + iddemande).then(res => res.json()).then(result => {\n      setIsLoaded(true);\n      setItems(result);\n    },\n    // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, []);\n  var fournisseurs = [];\n  items.map(element => {\n    const line = {\n      \"value\": element.idfournisseur,\n      \"text\": element.nom\n    };\n    fournisseurs.push(line);\n  });\n  //console.log(items);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"col-md-6 col-sm-12 col-xs-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"x_panel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"x_title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Proforma \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"en tete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"clearfix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"x_content\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            class: \"form-horizontal form-label-left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-sm-9\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    class: \"col-sm-3 control-label\",\n                    children: \"reference\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    class: \"form-control\",\n                    ref: props.reference\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    class: \"col-sm-3 control-label\",\n                    children: \"fournisseur\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n                    options: fournisseurs,\n                    textinput: props.fournisseur\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    class: \"col-sm-3 control-label\",\n                    children: \"info livraison\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    class: \"form-control\",\n                    placeholder: \"mode livraison\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    class: \"form-control\",\n                    placeholder: \"date livraison\",\n                    ref: props.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    class: \"form-control\",\n                    placeholder: \"lieu livraison\",\n                    ref: props.lieu\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(ProformaHeader, \"2syit8YQ9aXSSq8Hj6tTmSN+mpg=\", false, function () {\n  return [useParams];\n});\n_c2 = ProformaHeader;\nfunction ProformaBody(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: \"Article\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"hidden\",\n            value: props.idarticle,\n            ref: props.articles_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            value: props.article_label,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: \"prix unitaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            ref: props.prix_unit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 91\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: \"quantite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            value: props.qtt,\n            ref: props.quantite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 86\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: \"qualite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            value: props.qlt,\n            ref: props.qualite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 85\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ProformaBody;\nfunction ProformaForm() {\n  _s2();\n  const {\n    iddemande\n  } = useParams();\n  const lieu_livraison = useRef(null);\n  const date_livraison = useRef(null);\n  const fournisseur = useRef(null);\n  const reference = useRef(null);\n  const note_livraison = useRef(null);\n  const note_qualite = useRef(null);\n  const qualite = useRef([]);\n  const quantite = useRef([]);\n  const prix_unit = useRef([]);\n  const articles = useRef([]);\n  articles.current = [];\n  prix_unit.current = [];\n  qualite.current = [];\n  quantite.current = [];\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:3000/articlesproforma?iddemande=\" + iddemande).then(res => res.json()).then(result => {\n      setIsLoaded(true);\n      setItems(result);\n    },\n    // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, []);\n  var elements = [];\n  items.map(element => {\n    const line = {\n      \"value\": element.idarticle_fixed,\n      \"text\": element.nom_article,\n      \"quantite\": element.qtt,\n      \"qualite\": element.qualite\n    };\n    elements.push(line);\n  });\n  function handlePrix(el) {\n    if (el && !prix_unit.current.includes(el)) {\n      prix_unit.current.push(el);\n    }\n  }\n  ;\n  function handleArticle(el) {\n    if (el && !articles.current.includes(el)) {\n      articles.current.push(el);\n    }\n  }\n  ;\n  function handleQuantite(el) {\n    if (el && !quantite.current.includes(el)) {\n      quantite.current.push(el);\n    }\n  }\n  ;\n  function handleQualite(el) {\n    if (el && !qualite.current.includes(el)) {\n      qualite.current.push(el);\n    }\n  }\n  ;\n  function handleEvent(event) {\n    /*const j =  {\"idproformat\":null,\"ref\":\"PROF1234\",\"date_livraison\":\"2022-11-20\",\"lieu_livraison\":\"Anjanahary\",\"mode_livraison_id\":2,\"iddemande_proforma\":1,\"idfournisseur\":1,\r\n    \"details_proforma\":[\r\n    {\"proformat_id\":1 ,\"articles_fixed_id\":1,\"pu\":11000 ,\"qtt\":5 ,\"qualite\":\"made in france\"},\r\n    {\"proformat_id\":1 ,\"articles_fixed_id\":2,\"pu\":12000 ,\"qtt\":5 ,\"qualite\":\"made in china\"}\r\n    ]\r\n    };*/\n    const header = {\n      idproformat: null,\n      ref: reference.current.value,\n      date_livraison: date_livraison.current.value,\n      lieu_livraison: lieu_livraison.current.value,\n      mode_livraison_id: mode_livraison,\n      iddemande_proforma: iddemande,\n      idfournisseur: fournisseur.current.value,\n      details_proforma: [],\n      note_livraison: note_livraison.current.value,\n      note_qualite: note_qualite.current.value\n    };\n    const details = [];\n    for (let index = 0; index < articles.current.length; index++) {\n      const line = {\n        proformat_id: id_proforma,\n        articles_fixed_id: articles.current[index].value,\n        pu: prix_unit.current[index].value,\n        qtt: quantite.current[index].value,\n        qualite: qualite.current[index].value\n      };\n      details.push(line);\n    }\n    header.details_proforma = details;\n    event.preventDefault();\n    var content = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    content.body = JSON.stringify(header);\n    fetch('http://127.0.0.1:3000/proforma', content).then(response => {\n      if (response.status === 400) {\n        alert(\"Mot de passe non identifier\");\n      } else alert(\"okay\");\n    });\n    console.log(header);\n  }\n  ;\n\n  /* const HandleLogin=(event) =>{\r\n     event.preventDefault();\r\n     \r\n     var content= {\r\n         method: 'POST',\r\n         headers: {\r\n             'Content-Type': 'application/json'\r\n         }\r\n     }\r\n  \n     content.body=JSON.stringify({email:email.current.value,pwd:pwd.current.value})\r\n     fetch('http://127.0.0.1:3000/loginDepartement', content).then(response => {\r\n         if(response.status===400){\r\n             alert(\"Mot de passe non identifier\")\r\n         }else\r\n             return response.json()\r\n     })\r\n     .then(json => { setInfo_Employe(json) })\r\n  }*/\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: /*#__PURE__*/_jsxDEV(ProformaHeader, {\n        name: \"header\",\n        reference: reference,\n        date: date_livraison,\n        lieu: lieu_livraison,\n        fournisseur: fournisseur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: [elements.map(el => {\n        return /*#__PURE__*/_jsxDEV(ProformaBody, {\n          idarticle: el.value,\n          article_label: el.text,\n          articles_id: handleArticle,\n          prix_unit: handlePrix,\n          qualite: handleQualite,\n          quantite: handleQuantite,\n          qtt: el.quantite,\n          qlt: el.qualite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"form-label\",\n              children: \"note livraison\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 44\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              type: \"text\",\n              ref: note_livraison\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 92\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"form-label\",\n              children: \"note qualite\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 44\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              type: \"text\",\n              ref: note_qualite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 90\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-3\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"btn btn-primary\",\n          type: \"submit\",\n          value: \"valider\",\n          onClick: handleEvent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 7\n  }, this);\n}\n_s2(ProformaForm, \"dCpuwTIu+4wWnFJujVG3bQAs7tI=\", false, function () {\n  return [useParams];\n});\n_c4 = ProformaForm;\nexport default ProformaForm;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DropDown\");\n$RefreshReg$(_c2, \"ProformaHeader\");\n$RefreshReg$(_c3, \"ProformaBody\");\n$RefreshReg$(_c4, \"ProformaForm\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useParams","id_proforma","mode_livraison","DropDown","props","options","listItems","map","option","value","text","textinput","ProformaHeader","iddemande","error","setError","isLoaded","setIsLoaded","items","setItems","fetch","then","res","json","result","fournisseurs","element","line","idfournisseur","nom","push","reference","fournisseur","date","lieu","ProformaBody","idarticle","articles_id","article_label","prix_unit","qtt","quantite","qlt","qualite","ProformaForm","lieu_livraison","date_livraison","note_livraison","note_qualite","articles","current","elements","idarticle_fixed","nom_article","handlePrix","el","includes","handleArticle","handleQuantite","handleQualite","handleEvent","event","header","idproformat","ref","mode_livraison_id","iddemande_proforma","details_proforma","details","index","length","proformat_id","articles_fixed_id","pu","preventDefault","content","method","headers","body","JSON","stringify","response","status","alert","console","log"],"sources":["E:/Sandratra/ITU/S5/Gestion_entreprise/Achat_vente-Tovo2-/frontend/src/View/Page/proforma/Proforma.js"],"sourcesContent":["import React, { useRef, useState,useEffect } from 'react';\r\nimport { useParams } from 'react-router';\r\n\r\nvar id_proforma = 1;\r\nvar mode_livraison = 2;\r\n\r\nfunction DropDown(props){\r\n\r\n\r\n  const options = props.options;\r\n  const listItems = options.map((option) =>\r\n    <option value={option.value}>{option.text}</option>\r\n  );\r\n  return (\r\n    \r\n    <select class=\"form-control\" ref={props.textinput}>{listItems}</select>\r\n  );\r\n}\r\n\r\nfunction ProformaHeader(props) {\r\n  const {iddemande} = useParams();\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    \r\n    fetch(\"http://127.0.0.1:3000/fournisseurproforma?iddemande=\"+iddemande)\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n\r\n          setIsLoaded(true);\r\n          setItems(result);\r\n\r\n        },\r\n        // Note: it's important to handle errors here\r\n        // instead of a catch() block so that we don't swallow\r\n        // exceptions from actual bugs in components.\r\n        (error) => {\r\n          \r\n          setIsLoaded(true);\r\n          setError(error);\r\n        }\r\n      )\r\n  }, [])\r\n \r\n var fournisseurs = [];\r\n  items.map((element)=>{\r\n    const line = {\"value\":element.idfournisseur,\"text\":element.nom};\r\n    fournisseurs.push(line);\r\n  })\r\n//console.log(items);\r\n    return( \r\n        <div class=\"col-md-6 col-sm-12 col-xs-12\">\r\n          <div class=\"x_panel\">\r\n              <div class=\"x_title\">\r\n                    <h2>Proforma <small>en tete</small></h2>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"x_content\">\r\n                      <form class=\"form-horizontal form-label-left\">\r\n                          <div class=\"form-group\">\r\n                            <div class=\"col-sm-9\">\r\n                              <div class=\"input-group\">\r\n                              <label class=\"col-sm-3 control-label\">reference</label>\r\n                                <input type=\"text\" class=\"form-control\" ref = {props.reference}/>\r\n                              </div>\r\n                              <div class=\"input-group\">\r\n                              <label class=\"col-sm-3 control-label\">fournisseur</label>\r\n                                <DropDown options={fournisseurs} textinput = {props.fournisseur}/>\r\n                              </div>\r\n                              <div class=\"input-group\">\r\n                                <label class=\"col-sm-3 control-label\">info livraison</label>\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"mode livraison\"/>\r\n                                <input type=\"date\" class=\"form-control\" placeholder=\"date livraison\" ref = {props.date}/>\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"lieu livraison\" ref = {props.lieu}/>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n                      </form>\r\n                    </div>\r\n              </div>\r\n          </div>      \r\n        </div>\r\n    );\r\n  }\r\n  \r\nfunction ProformaBody(props){\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"row\">\r\n      <div class=\"col-sm-2\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">Article</label>\r\n                  <input type=\"hidden\" value={props.idarticle} ref={props.articles_id}/>\r\n                  <input class=\"form-control\" type=\"text\" value={props.article_label} disabled/>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">prix unitaire</label><input  class=\"form-control\" type=\"text\" ref={props.prix_unit}/></div>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">quantite</label><input class=\"form-control\" type=\"text\" value={props.qtt} ref={props.quantite}/></div>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">qualite</label><input class=\"form-control\" type=\"text\" value={props.qlt} ref={props.qualite}/></div>\r\n          </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}  \r\n\r\nfunction ProformaForm() {\r\n\r\n  const {iddemande} = useParams();\r\n  const lieu_livraison = useRef(null);\r\n  const date_livraison = useRef(null);\r\n  const fournisseur = useRef(null);\r\n  const reference = useRef(null);\r\n  const note_livraison = useRef(null);\r\n  const note_qualite = useRef(null);\r\n\r\n  const qualite = useRef([]);\r\n  const quantite = useRef([]);\r\n  const prix_unit = useRef([]);\r\n  const articles = useRef([]);\r\n  articles.current = [];\r\n  prix_unit.current = [];\r\n  qualite.current = [];\r\n  quantite.current = [];\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n  useEffect(() => {\r\n    \r\n    fetch(\"http://127.0.0.1:3000/articlesproforma?iddemande=\"+iddemande)\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n\r\n          setIsLoaded(true);\r\n          setItems(result);\r\n\r\n        },\r\n        // Note: it's important to handle errors here\r\n        // instead of a catch() block so that we don't swallow\r\n        // exceptions from actual bugs in components.\r\n        (error) => {\r\n          \r\n          setIsLoaded(true);\r\n          setError(error);\r\n        }\r\n      )\r\n  }, [])\r\n  var elements = [];\r\n  items.map((element)=>{\r\n    const line = {\"value\":element.idarticle_fixed,\"text\":element.nom_article,\"quantite\":element.qtt,\"qualite\":element.qualite};\r\n    elements.push(line);\r\n  })\r\n\r\n  function handlePrix(el){\r\n    if(el && !prix_unit.current.includes(el)){\r\n      prix_unit.current.push(el);\r\n    }\r\n  };\r\n  \r\n  function handleArticle(el){\r\n    if(el && !articles.current.includes(el)){\r\n      articles.current.push(el);\r\n    }\r\n  };\r\n\r\n  function handleQuantite(el){\r\n    if(el && !quantite.current.includes(el)){\r\n      quantite.current.push(el);\r\n    }\r\n\r\n  };\r\n  \r\n  function handleQualite(el){\r\n    if(el && !qualite.current.includes(el)){\r\n      qualite.current.push(el);\r\n    }\r\n\r\n  };\r\n\r\n  function handleEvent(event){\r\n    /*const j =  {\"idproformat\":null,\"ref\":\"PROF1234\",\"date_livraison\":\"2022-11-20\",\"lieu_livraison\":\"Anjanahary\",\"mode_livraison_id\":2,\"iddemande_proforma\":1,\"idfournisseur\":1,\r\n\"details_proforma\":[\r\n    {\"proformat_id\":1 ,\"articles_fixed_id\":1,\"pu\":11000 ,\"qtt\":5 ,\"qualite\":\"made in france\"},\r\n    {\"proformat_id\":1 ,\"articles_fixed_id\":2,\"pu\":12000 ,\"qtt\":5 ,\"qualite\":\"made in china\"}\r\n]\r\n};*/\r\n  const header = {idproformat:null,ref:reference.current.value,date_livraison:date_livraison.current.value,lieu_livraison:lieu_livraison.current.value,mode_livraison_id:mode_livraison,iddemande_proforma:iddemande,idfournisseur:fournisseur.current.value,details_proforma:[],note_livraison:note_livraison.current.value,note_qualite:note_qualite.current.value};\r\n  const details = [];  \r\n   for (let index = 0; index < articles.current.length; index++) {\r\n          const line = {proformat_id:id_proforma,articles_fixed_id:articles.current[index].value,pu:prix_unit.current[index].value,qtt:quantite.current[index].value,qualite:qualite.current[index].value};\r\n          details.push(line);\r\n      }\r\n\r\n      header.details_proforma = details;\r\n      \r\n      event.preventDefault();\r\n    \r\n      var content= {\r\n          method: 'POST',\r\n          headers: {\r\n              'Content-Type': 'application/json'\r\n          }\r\n      }\r\n  \r\n      content.body=JSON.stringify(header)\r\n      fetch('http://127.0.0.1:3000/proforma', content).then(response => {\r\n          if(response.status===400){\r\n              alert(\"Mot de passe non identifier\")\r\n          }else\r\n              alert(\"okay\")\r\n      })\r\n      \r\n\r\n      console.log(header);\r\n\r\n  };\r\n\r\n /* const HandleLogin=(event) =>{\r\n    event.preventDefault();\r\n    \r\n    var content= {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    content.body=JSON.stringify({email:email.current.value,pwd:pwd.current.value})\r\n    fetch('http://127.0.0.1:3000/loginDepartement', content).then(response => {\r\n        if(response.status===400){\r\n            alert(\"Mot de passe non identifier\")\r\n        }else\r\n            return response.json()\r\n    })\r\n    .then(json => { setInfo_Employe(json) })\r\n}*/\r\n\r\n    return (\r\n      <div>\r\n      \r\n        <div class=\"row\">\r\n            <ProformaHeader name=\"header\" reference={reference} date={date_livraison} lieu={lieu_livraison} fournisseur={fournisseur}/>\r\n        </div>\r\n        <div class=\"row\">\r\n\r\n            {\r\n              elements.map((el)=>{\r\n                  return(\r\n                    <ProformaBody idarticle={el.value} article_label={el.text} articles_id={handleArticle} prix_unit={handlePrix} qualite={handleQualite} quantite={handleQuantite} qtt={el.quantite} qlt={el.qualite}/>                        \r\n                  )\r\n              })\r\n            }\r\n        \r\n        <div class=\"row\">\r\n        <h1>Notes</h1>\r\n          <div class=\"col-sm-4\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">note livraison</label><input  class=\"form-control\" type=\"text\" ref={note_livraison}/></div>\r\n          </div>\r\n          <div class=\"col-sm-4\">\r\n              <div class=\"form-group mb-3\"><label class=\"form-label\">note qualite</label><input class=\"form-control\" type=\"text\" ref={note_qualite}/></div>\r\n          </div>\r\n      </div>\r\n\r\n            <div class=\"col-sm-3\">\r\n              <input class=\"btn btn-primary\" type=\"submit\" value=\"valider\" onClick={handleEvent}/>\r\n            </div>\r\n        </div>\r\n\r\n      \r\n      </div>\r\n \r\n    );\r\n  }\r\n\r\nexport default ProformaForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}