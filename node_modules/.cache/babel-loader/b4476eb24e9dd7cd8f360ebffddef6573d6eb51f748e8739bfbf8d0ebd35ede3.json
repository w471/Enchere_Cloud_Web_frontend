{"ast":null,"code":"import _slicedToArray from\"E:/Sandratra/ITU/S5/DEv_mobile/Enchere_front_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";import Header from\"../../../Template/Admin/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GestionElementAdmin=function GestionElementAdmin(){var duree=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allEnchereNotDone=_useState2[0],setAllEnchereNotDone=_useState2[1];useEffect(function(){var content={method:\"GET\"};fetch(\"http://encherecloudws-production.up.railway.app/admins/categorisation\",content).then(function(response){if(response.status!==200)throw new Error(response);else if(response.status===200)return response.json();}).then(function(data){setAllEnchereNotDone(data);});},[]);var HandleUpdate=function HandleUpdate(event){event.preventDefault();var content={method:\"PUT\",headers:{\"Content-Type\":\"application/json\"}};fetch(\"http://encherecloudws-production.up.railway.app/encheres/2?duration=\"+duree.current.value,content);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Ajout Categorie\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date de debut\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Duree\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Prix initiale\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Categorie\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allEnchereNotDone.map(function(element,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:element.timingStart}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{defaultValue:element.duration,ref:duree,type:\"number\"})}),/*#__PURE__*/_jsx(\"td\",{children:element.description}),/*#__PURE__*/_jsx(\"td\",{children:element.startPrice}),/*#__PURE__*/_jsx(\"td\",{children:element.nomCategorie}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:HandleUpdate,children:\"Valider\"})})]},index);})})]})]});};export default GestionElementAdmin;","map":{"version":3,"names":["useState","useEffect","useRef","Header","GestionElementAdmin","duree","allEnchereNotDone","setAllEnchereNotDone","content","method","fetch","then","response","status","Error","json","data","HandleUpdate","event","preventDefault","headers","current","value","map","element","index","timingStart","duration","description","startPrice","nomCategorie"],"sources":["E:/Sandratra/ITU/S5/DEv_mobile/Enchere_front_react/src/View/Page/Employe/Page/GestionElementAdmin.jsx"],"sourcesContent":["import { useState,useEffect,useRef } from \"react\";\r\nimport Header from \"../../../Template/Admin/Header\";\r\nconst GestionElementAdmin = () => {\r\n  const duree = useRef(null);\r\n  const [allEnchereNotDone, setAllEnchereNotDone] = useState([])\r\n\r\n  useEffect(() => {\r\n    let content = {\r\n      method : \"GET\"\r\n    };\r\n\r\n    fetch(\"http://encherecloudws-production.up.railway.app/admins/categorisation\",content)\r\n    .then( (response) => {\r\n      if(response.status!==200)\r\n        throw new Error(response);\r\n\r\n        else if(response.status===200)\r\n          return response.json()\r\n    })\r\n    .then((data)=>{\r\n      setAllEnchereNotDone(data)\r\n    })\r\n  }, [])\r\n  \r\n\r\n  const HandleUpdate = (event) => {\r\n    event.preventDefault();\r\n\r\n    var content = {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    fetch(\"http://encherecloudws-production.up.railway.app/encheres/2?duration=\"+duree.current.value, content)\r\n     \r\n  };\r\n    return (\r\n      <div>      \r\n        <Header></Header>\r\n        <h1>Ajout Categorie</h1>\r\n      <table className=\"table\">\r\n          <thead>\r\n              <tr>\r\n                  <th scope=\"col\">Date de debut</th>\r\n                  <th scope=\"col\">Duree</th>\r\n                  <th scope=\"col\">Description</th>\r\n                  <th scope=\"col\">Prix initiale</th>\r\n                  <th scope=\"col\">Categorie</th>\r\n              </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              allEnchereNotDone.map( (element,index) =>(\r\n                <tr key={index}>\r\n                    <td>{element.timingStart}</td>\r\n                    <td><input defaultValue={element.duration} ref={duree} type=\"number\"/></td>\r\n                    <td>{element.description}</td>\r\n                    <td>{element.startPrice}</td>\r\n                    <td>{element.nomCategorie}</td>\r\n                    <td><button onClick={HandleUpdate}>Valider</button></td>\r\n                </tr>\r\n              ))\r\n            }\r\n                \r\n            </tbody>\r\n          </table>\r\n    </div>\r\n\r\n    );\r\n  }\r\nexport default GestionElementAdmin;\r\n"],"mappings":"wIAAA,OAASA,QAAQ,CAACC,SAAS,CAACC,MAAM,KAAQ,OAAO,CACjD,MAAOC,OAAM,KAAM,gCAAgC,CAAC,wFACpD,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,EAAS,CAChC,GAAMC,MAAK,CAAGH,MAAM,CAAC,IAAI,CAAC,CAC1B,cAAkDF,QAAQ,CAAC,EAAE,CAAC,wCAAvDM,iBAAiB,eAAEC,oBAAoB,eAE9CN,SAAS,CAAC,UAAM,CACd,GAAIO,QAAO,CAAG,CACZC,MAAM,CAAG,KACX,CAAC,CAEDC,KAAK,CAAC,uEAAuE,CAACF,OAAO,CAAC,CACrFG,IAAI,CAAE,SAACC,QAAQ,CAAK,CACnB,GAAGA,QAAQ,CAACC,MAAM,GAAG,GAAG,CACtB,KAAM,IAAIC,MAAK,CAACF,QAAQ,CAAC,CAAC,IAErB,IAAGA,QAAQ,CAACC,MAAM,GAAG,GAAG,CAC3B,MAAOD,SAAQ,CAACG,IAAI,EAAE,CAC5B,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACK,IAAI,CAAG,CACZT,oBAAoB,CAACS,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAGN,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9BA,KAAK,CAACC,cAAc,EAAE,CAEtB,GAAIX,QAAO,CAAG,CACZC,MAAM,CAAE,KAAK,CACbW,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAEDV,KAAK,CAAC,sEAAsE,CAACL,KAAK,CAACgB,OAAO,CAACC,KAAK,CAAEd,OAAO,CAAC,CAE5G,CAAC,CACC,mBACE,oCACE,KAAC,MAAM,IAAU,cACjB,uCAAwB,cAC1B,eAAO,SAAS,CAAC,OAAO,wBACpB,oCACI,mCACI,WAAI,KAAK,CAAC,KAAK,2BAAmB,cAClC,WAAI,KAAK,CAAC,KAAK,mBAAW,cAC1B,WAAI,KAAK,CAAC,KAAK,yBAAiB,cAChC,WAAI,KAAK,CAAC,KAAK,2BAAmB,cAClC,WAAI,KAAK,CAAC,KAAK,uBAAe,GAC7B,EACD,cACR,uBAEIF,iBAAiB,CAACiB,GAAG,CAAE,SAACC,OAAO,CAACC,KAAK,qBACnC,mCACI,oBAAKD,OAAO,CAACE,WAAW,EAAM,cAC9B,iCAAI,cAAO,YAAY,CAAEF,OAAO,CAACG,QAAS,CAAC,GAAG,CAAEtB,KAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAK,cAC3E,oBAAKmB,OAAO,CAACI,WAAW,EAAM,cAC9B,oBAAKJ,OAAO,CAACK,UAAU,EAAM,cAC7B,oBAAKL,OAAO,CAACM,YAAY,EAAM,cAC/B,iCAAI,eAAQ,OAAO,CAAEb,YAAa,qBAAiB,EAAK,GANnDQ,KAAK,CAOT,EACN,CAAC,EAGI,GACF,GACR,CAGR,CAAC,CACH,cAAerB,oBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}